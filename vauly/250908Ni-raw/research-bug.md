### **title: "The End-to-End Debug Workflow"**

### **sidebarTitle: "/research-bug"**

`/research-bug` は、AIを単なる計画立案者から、**問題解決のための実行可能なソリューションを最後まで作り上げるパートナー**へと昇華させる、完璧な指示体系（Perfect Prompt）です。

このワークフローは、Planし、**「どのように解決するか」という具体的なコード（Assets）の生成**までを完遂します。

-----

### **The Philosophy: Beyond Planning, Towards Generation**

計画は、あくまで最終成果物である**実行可能なデバッグコード**を生成するための中間プロセスに過ぎません。

-----

### **The 5-Step Generation Workflow**

AIは、以下の５つのステップを実行します。

0,1,2の事前状況把握・仮説構築のフェーズは最高品質の成果物を生み出すために非常に重要なステップです。

#### Step 0: Scope & Clarify (要件定義とコンテキスト確認)

AIはまず探偵のように、事件の概要を把握します。調査を開始する前に、何が起きて何が問題なのかをユーザーに共有してもらい課題について深く理解します。
特に「どの環境で起きているか」など前提条件をできるだけ把握し調査全体のコンテストを理解します。

これは、最高品質の成果物を生み出すための重要なステップです。

#### Step 1: Analyze

次に、AIは事象を徹底的に理解します。ログの時系列パターン、関連資料、GUIのレポート画像などから総合的かつ詳細に「何が起こったか」を正確に理解し、データとして整理された表などを作成します。

ここではデータの整理に徹し、推測や憶測は含みません。

#### Step 2: Hypothesize

AIは、明確になった状況・ログとソースコードの構造を突き合わせ、考えられる原因の仮説を複数リストアップします。各仮説には、その根拠と確信度が添えられます。

#### Step 3: Comprehensive Strategy & Plan (網羅的デバッグ戦略の策定)

AIは、ステップ2で立てたすべての仮説を一度に検証するための「デバッグ計画書 (debug_plan.md)」を設計します。
この計画書には、どの仮説を、どのファイルの、どのメソッドで、どのような情報を収集して検証するかが、デバッグIDと共にマッピングされています。

#### **Step 4: Add Debug Code**

設計書が固まると、AIはその設計に基づいて、Debug用コードを追加します。
ここでは全ての検証が１回で終了するよう、全ての計画のログを設定します。

#### **Step 5: Deliver & Guide Execution (成果物の提供と実行ガイダンス)**

最後に、AIは生成したすべての**成果物**をユーザーに提供し、それを**どのように利用すべきか**を明確にガイドします。
これにより、ユーザーは思考を止めることなく、即座に次のアクションに移ることができます。

-----

### **Example Workflow: The Prompt in Action**

<Steps>
<Step title="Initiate">
`/debug Okta Rate Limit Issue. Logs and sources attached.`
</Step>
<Step title="Analyze & Design">
AIが状況を分析し、複数の仮説を網羅するデバッグ戦略を設計・提案。私がそれを承認します。
</Step>
<Step title="**GENERATE**">
AIが開発者として振る舞い、具体的なコード変更を含むパッチファイルと、その論拠を示すレポートを**生成**します。
- `0001-inject-comprehensive-debug-loggers.patch`
- `investigation_report.md`
</Step>
<Step title="**EXECUTE**">
AIが私に指示します:
"生成完了です。`git apply 0001-....patch` を実行し、デプロイしてください。問題再現後、ログを再度共有いただければ、即座に原因を特定します。"
</Step>
</Steps>

<Tip>
このワークフローの真価は、その**完結性**にあります。あなたは「エラーが起きた」という最初のトリガーを引くだけ。あとはAIとの対話を通じて、具体的なコードという「解決策の一歩手前」まで一直線にたどり着けます。
</Tip>
